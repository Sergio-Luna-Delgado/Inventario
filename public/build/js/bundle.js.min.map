{"version":3,"sources":["app.js"],"names":["host","async","cambiarPassword","id","url","datos","FormData","password","document","querySelector","append","value","opciones","method","body","resultado","fetch","respuesta","json","alert","message","window","location","href","error","console","log","eliminarRegistro","ruta","login","cambiarNombre","name","product_ID","search","params","URLSearchParams","addEventListener","e","productoSeleccionado","target","set","history","replaceState","pathname","reload","has","quantity","disabled","cantidadSeleccionada","reportDate","fechaInicio","fechaFin","reportMonth","month","Date","toLocaleString","reportDay","date","day","getDate","getMonth","year","getFullYear","btnImprimir","reporteBotones","classList","toggle","print"],"mappings":"AAAA,IAAAA,KAAA,yBAEAC,eAAAC,gBAAAC,GACA,IACA,MAAAC,EAAAJ,KAAA,iBAEAK,EAAA,IAAAC,SACAC,EAAAC,SAAAC,cAAA,aAEAJ,EAAAK,OAAA,KAAAP,GACAE,EAAAK,OAAA,WAAAH,EAAAI,OACA,MAAAC,EAAA,CACAC,OAAA,OACAC,KAAAT,GAGAU,QAAAC,MAAAZ,EAAAQ,GACAK,QAAAF,EAAAG,OAEAC,MAAAF,EAAAG,SACAC,OAAAC,SAAAC,KAAA,SAEA,MAAAC,GACAC,QAAAC,IAAAF,IAIAvB,eAAA0B,iBAAAxB,EAAAyB,EAAAC,GAAA,GACA,IACA,MAAAzB,EAAAJ,KAAA4B,EAAA,UAEAvB,EAAA,IAAAC,SAEAD,EAAAK,OAAA,KAAAP,GAEA,MAAAS,EAAA,CACAC,OAAA,OACAC,KAAAT,GAGAU,QAAAC,MAAAZ,EAAAQ,GACAK,QAAAF,EAAAG,OAEAC,MAAAF,EAAAG,SAEAC,OAAAC,SAAAC,KADAM,EACA,IAEA,IAAAD,EAGA,MAAAJ,GACAC,QAAAC,IAAAF,IAIAvB,eAAA6B,cAAA3B,GACA,IACA,MAAAC,EAAAJ,KAAA,oBAEAK,EAAA,IAAAC,SACAyB,EAAAvB,SAAAC,cAAA,gBAAAN,GAEAE,EAAAK,OAAA,KAAAP,GACAE,EAAAK,OAAA,OAAAqB,EAAApB,OACA,MAAAC,EAAA,CACAC,OAAA,OACAC,KAAAT,GAGAU,QAAAC,MAAAZ,EAAAQ,GACAK,QAAAF,EAAAG,OAEAC,MAAAF,EAAAG,SACAC,OAAAC,SAAAC,KAAA,cAEA,MAAAC,GACAC,QAAAC,IAAAF,IAIA,MAAAQ,WAAAxB,SAAAC,cAAA,eACA,GAAAuB,WAAA,CACA,MAAA5B,EAAAiB,OAAAC,SAAAW,OACAC,EAAA,IAAAC,gBAAA/B,GASA,GAPA4B,WAAAI,iBAAA,SAAA,SAAAC,GACA,MAAAC,EAAAD,EAAAE,OAAA5B,MACAuB,EAAAM,IAAA,UAAAF,GACAjB,OAAAoB,QAAAC,aAAA,GAAA,GAAA,GAAArB,OAAAC,SAAAqB,YAAAT,KACAZ,SAAAsB,YAGAV,EAAAW,IAAA,WAAA,CACA,MAAAC,EAAAtC,SAAAC,cAAA,aACAqC,EAAAC,UAAA,EAEAD,EAAAV,iBAAA,SAAA,SAAAC,GACA,MAAAW,EAAAX,EAAAE,OAAA5B,MACAuB,EAAAM,IAAA,WAAAQ,GACA3B,OAAAoB,QAAAC,aAAA,GAAA,GAAA,GAAArB,OAAAC,SAAAqB,YAAAT,KACAZ,SAAAsB,aAKA,SAAAK,aACA,MAAAC,EAAA1C,SAAAC,cAAA,gBAAAE,MACAwC,EAAA3C,SAAAC,cAAA,aAAAE,MAEA,IAAAuC,GAAA,IAAAC,EACAhC,MAAA,kCAEAE,OAAAC,SAAAC,KAAA,wBAAA2B,SAAAC,IAIA,SAAAC,cACA,MACAC,GADA,IAAAC,MACAC,eAAA,UAAA,CAAAF,MAAA,SACAhC,OAAAC,SAAAC,KAAA,wBAAA8B,EAGA,SAAAG,YACA,MAAAC,EAAA,IAAAH,KACAI,EAAAD,EAAAE,UACAN,EAAAI,EAAAG,WAAA,EACAC,EAAAJ,EAAAK,cACAzC,OAAAC,SAAAC,KAAA,wBAAAsC,KAAAR,KAAAK,IAGA,MAAAK,YAAAvD,SAAAC,cAAA,gBACAsD,aACAA,YAAA3B,iBAAA,SAAA,WACA,MAAA4B,EAAAxD,SAAAC,cAAA,mBACAuD,EAAAC,UAAAC,OAAA,UACA7C,OAAA8C,QACAH,EAAAC,UAAAC,OAAA","file":"bundle.js","sourcesContent":["let host = 'http://localhost:3000/';\r\n\r\nasync function cambiarPassword(id) {\r\n    try {\r\n        const url = host + 'users/password';\r\n\r\n        const datos = new FormData();\r\n        const password = document.querySelector('#password');\r\n\r\n        datos.append('id', id);\r\n        datos.append('password', password.value);\r\n        const opciones = {\r\n            method: 'POST',\r\n            body: datos\r\n        }\r\n\r\n        const resultado = await fetch(url, opciones);\r\n        const respuesta = await resultado.json();\r\n\r\n        alert(respuesta.message);\r\n        window.location.href = \"/users\";\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nasync function eliminarRegistro(id, ruta, login = false) {\r\n    try {\r\n        const url = host + ruta + '/delete';\r\n\r\n        const datos = new FormData();\r\n\r\n        datos.append('id', id);\r\n\r\n        const opciones = {\r\n            method: 'POST',\r\n            body: datos\r\n        }\r\n\r\n        const resultado = await fetch(url, opciones);\r\n        const respuesta = await resultado.json();\r\n\r\n        alert(respuesta.message);\r\n        if (login) {\r\n            window.location.href = \"/\";\r\n        } else {\r\n            window.location.href = \"/\" + ruta;\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nasync function cambiarNombre(id) {\r\n    try {\r\n        const url = host + 'categories/update';\r\n\r\n        const datos = new FormData();\r\n        const name = document.querySelector('#categoryName' + id);\r\n\r\n        datos.append('id', id);\r\n        datos.append('name', name.value);\r\n        const opciones = {\r\n            method: 'POST',\r\n            body: datos\r\n        }\r\n\r\n        const resultado = await fetch(url, opciones);\r\n        const respuesta = await resultado.json();\r\n\r\n        alert(respuesta.message);\r\n        window.location.href = \"/categories\";\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nconst product_ID = document.querySelector(\"#product_ID\");\r\nif (product_ID) {\r\n    const url = window.location.search;\r\n    const params = new URLSearchParams(url);\r\n\r\n    product_ID.addEventListener('input', function (e) {\r\n        const productoSeleccionado = e.target.value;\r\n        params.set(\"product\", productoSeleccionado);\r\n        window.history.replaceState({}, '', `${window.location.pathname}?${params}`);\r\n        location.reload()\r\n    });\r\n\r\n    if (params.has(\"product\")) {\r\n        const quantity = document.querySelector('#quantity');\r\n        quantity.disabled = false;\r\n\r\n        quantity.addEventListener('input', function (e) {\r\n            const cantidadSeleccionada = e.target.value;\r\n            params.set(\"quantity\", cantidadSeleccionada);\r\n            window.history.replaceState({}, '', `${window.location.pathname}?${params}`);\r\n            location.reload()\r\n        });\r\n    }\r\n}\r\n\r\nfunction reportDate() {\r\n    const fechaInicio = document.querySelector('#fechaInicio').value;\r\n    const fechaFin = document.querySelector('#fechaFin').value;\r\n\r\n    if (fechaInicio == '' || fechaFin == '') {\r\n        alert('Las fechas no pueden ir vacias');\r\n    } else {\r\n        window.location.href = `/reports/print?start=${fechaInicio}&end=${fechaFin}`;\r\n    }\r\n}\r\n\r\nfunction reportMonth() {\r\n    const date = new Date();\r\n    const month = date.toLocaleString('default', { month: 'long' });\r\n    window.location.href = `/reports/print?month=${month}`;\r\n}\r\n\r\nfunction reportDay() {\r\n    const date = new Date();\r\n    const day = date.getDate();\r\n    const month = date.getMonth() + 1;\r\n    const year = date.getFullYear();\r\n    window.location.href = `/reports/print?start=${year}-${month}-${day}`;\r\n}\r\n\r\nconst btnImprimir = document.querySelector('#btnImprimir'); \r\nif (btnImprimir) {\r\n    btnImprimir.addEventListener('click', function() {\r\n        const reporteBotones = document.querySelector('#reporteBotones');\r\n        reporteBotones.classList.toggle('d-none');\r\n        window.print();\r\n        reporteBotones.classList.toggle('d-none');\r\n        // window.location.href = '/reports';\r\n    });\r\n    // document.addEventListener('DOMContentLoaded', () => {\r\n    //     btnImprimir.addEventListener('click', () => {\r\n    //         const elemento = document.querySelector('#reporte');\r\n    //         html2pdf()\r\n    //             .set({\r\n    //                 margin: 3,\r\n    //                 filename: 'Reporte.pdf',\r\n    //                 imagen: {\r\n    //                     type: 'jpeg',\r\n    //                     quality: 0.98\r\n    //                 },\r\n    //                 html2canvas: {\r\n    //                     scale: 3,\r\n    //                     letterRendering: true,\r\n    //                 }\r\n    //             })\r\n    //             .from(elemento)\r\n    //             .save()\r\n    //             .catch(err => console.log(err))\r\n    //     });\r\n    // });\r\n}"]}